<div [formGroup]="form" class="flex flex-col gap-4 w-full">
  @if (step === 'email') {
    <hlm-form-field>
      <input [formControl]="email" hlmInput id="email" placeholder="Adresse email"/>
    </hlm-form-field>

    @if (isEmailTouched && email.invalid) {
      @if (email.errors?.['required']) {
        <hlm-error>
          L'email est requis.
        </hlm-error>
      } @else if (email.errors?.['email']) {
        <hlm-error>
          Veuillez entrer un email valide.
        </hlm-error>
      }
    }
  } @else if (step === 'otp') {

    <div class="flex flex-col">
      <brn-input-otp hlmInputOtp inputClass="disabled:cursor-not-allowed" maxLength="6" formControlName="otp">
        <div hlmInputOtpGroup>
          <hlm-input-otp-slot index="0"/>
          <hlm-input-otp-slot index="1"/>
          <hlm-input-otp-slot index="2"/>
        </div>
        <hlm-input-otp-separator/>
        <div hlmInputOtpGroup>
          <hlm-input-otp-slot index="3"/>
          <hlm-input-otp-slot index="4"/>
          <hlm-input-otp-slot index="5"/>
        </div>
      </brn-input-otp>
      <div class="mt-2">
        @if (isOtpTouched && otp.invalid) {
          @if (otp.errors?.['required']) {
            <hlm-error>Le code est requis.</hlm-error>
          } @else if (otp.errors?.['minlength'] || otp.errors?.['maxlength']) {
            <hlm-error>Le code doit faire 6 chiffres.</hlm-error>
          } @else if (otp.errors?.['invalid']) {
            <hlm-error>Code incorrect.</hlm-error>
          }
        }
      </div>
    </div>

  }
</div>

